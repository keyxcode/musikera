{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Page title -->
        <title>{% block title %}Musikera{% endblock %}</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'composers/styles.css' %}">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/946cafc202.js" crossorigin="anonymous"></script>
        {% block script %}
        {% endblock %}
    </head>

    <body class="d-flex flex-column min-vh-100">
        <!-- Navbar -->
        <nav class="navbar sticky-top navbar-expand-md mb-5 p-2">
            <!--Navbar brand-->
            <a class="epoch-name font-weight-bold navbar-brand fs-4" href="{% url 'index' %}">Musikera</a>
            
            <!-- Responsive button -->
            <button class="navbar-toggler" type="button" data-bs-target="#navbar" data-bs-toggle="collapse" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Collapsable Navlinks -->
            <div class="collapse navbar-collapse" id="navbar">
                <!-- Left Area -->
                <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'index' %}">Timeline</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'discover' %}">Discover</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'favorites' %}">Favorites</a>
                    </li>

                </ul>
                <!-- Right Area -->
                <ul class="navbar-nav ms-auto mt-2 mt-lg-0">
                    {% if request.user.is_authenticated %}
                        <li class="nav-item">
                            <a class="nav-link" id="logged-in-as">
                                <span class="fw-light fst-italic">Logged in as </span>
                                <strong id="user">{{ request.user.username }}</strong>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'logout' %}">Log Out</a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'login' %}">Log In</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'register' %}">Register</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </nav>

        <!-- Main -->
        <div class="position-relative">
            {% block sidebar %}
            {% endblock%}
            <div class="container mb-5">
                {% block body %}
                {% endblock %}
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer text-center mt-auto">
            <div class="container p-3">
            All rights reserved Â© keyxcode
            </div>
        </footer>
    </body>
</html>